# You can find more information about this file on the symfony website:
# http://www.symfony-project.org/reference/1_4/en/10-Routing

# default rules
homepage:
  url:   /
  param: { module: home, action: index }

### BOARD ###

board:
  url:   /:username_slug/board/:id
  class: sfPropelRoute
  param: { module: board, action: show }
  options: { model: Board, type: object }
  requirements:
    id: \d+

### STICKER AJAX ###

sticker_scene_change:
  url:   /scene/sticker/:scene_id
  param: { module: board, action: showSceneAjax }
  requirements:
    scene_id: \d+


### FOLLOW ###

follow_user:
  url:  /follow/user/:user_id
  param: { module: user, action: followUser }

unfollow_user:
  url:  /unfollow/user/:user_id
  param: { module: user, action: unfollowUser }

follow_clip:
  url:  /follow/clip/:clip_id
  param: { module: user, action: followClip }

unfollow_clip:
  url:  /unfollow/clip/:clip_id
  param: { module: user, action: unfollowClip }

follow_board:
  url:  /follow/set/:board_id
  param: { module: user, action: followBoard }

unfollow_board:
  url:  /unfollow/set/:board_id
  param: { module: user, action: unfollowBoard }

### SCENE ###

scene:
  url:   /:username_slug/board/:board_id/scene/:id
  class: sfPropelRoute
  param: { module: scene, action: show }
  options: { model: Scene, type: object }
  requirements:
    board_id: \d+
    id: \d+

scene_unrepin:
  url: /scene/unrepin
  param: { module: scene, action: unrepin }

scene_repin:
  url: /scene/repin
  param: { module: scene, action: repin }

scene_post:
  url: /post/scene
  param: { module: scene, action: postScene }

scene_post_comment:
  url: /post/scene/comment
  param: { module: scene, action: postComment }

scene_change_liked_state:
  url: /change/scene/like/state
  param: { module: scene, action: toggleFBLikeState }

### STICKER AJAX ###

scene_change:
  url:   /scene/:scene_id
  param: { module: scene, action: showSceneAjax }
  requirements:
    scene_id: \d+

### USER ###

user:
  url:   /profile/:nick
  class: sfPropelRoute
  param: { module: user, action: show }
  options: { model: sfGuardUserProfile, type: object }

### MELODY CALLBACKS ###

user_register:
  url:   /user/register
  param: { module: user, action: register }

user_register_welcome:
  url:   /user/welcome
  param: { module: user, action: welcome }

### MELODY ROUTINE ###

connect_fb:
  url:   /connect_fb
  param: { module: user, action: connect }

callback_fb:
  url:   /callback_fb
  param: { module: user, action: facebook}

sf_guard_signout:
  url:   /logout
  param: { module: sfGuardAuth, action: signout }

